"use strict";(self["webpackChunkai_bot"]=self["webpackChunkai_bot"]||[]).push([[359],{6359:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginBody",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.comfirm.apply(null,arguments)}}},[t("div",{staticClass:"loginDiv"},[t("div",{staticClass:"login-content"},[t("h1",{staticClass:"login-title"},[e._v("用户登录")]),t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"账号/电话",prop:"identifier"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.loginForm.identifier,callback:function(t){e.$set(e.loginForm,"identifier",t)},expression:"loginForm.identifier"}})],1),t("el-form-item",{attrs:{label:"类型",prop:"identifierType"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.loginForm.identifierType,callback:function(t){e.$set(e.loginForm,"identifierType",t)},expression:"loginForm.identifierType"}},[t("el-option",{attrs:{label:"账号",value:"no"}}),t("el-option",{attrs:{label:"电话号码",value:"phone"}})],1)],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","show-password":"",autocomplete:"off",size:"small"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.goToRegister}},[e._v("注册")]),t("el-button",{attrs:{type:"primary",disabled:e.confirm_disabled},on:{click:e.comfirm}},[e._v("确定")])],1)],1)],1)])])},o=[],s=(i(4114),{name:"LoginHome",data(){return{confirm_disabled:!1,loginForm:{identifier:"",identifierType:"no",password:""},rules:{identifier:[{required:!0,message:"请输入账号或电话号码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],identifierType:[{required:!0,message:"请选择账号或电话号码类型",trigger:"change"}]}}},methods:{comfirm(){this.confirm_disabled=!0,this.$refs.loginForm.validate((e=>{if(!e)return this.confirm_disabled=!1,console.log("效验失败"),!1;{let e={[this.loginForm.identifierType]:this.loginForm.identifier,password:this.loginForm.password};this.$axios.post(this.$httpUrl+"/user/login",e).then((e=>e.data)).then((e=>{if(200!=e.code)return this.confirm_disabled=!1,alert("效验失败，用户名或者密码错误！"),!1;sessionStorage.setItem("CurUser",JSON.stringify(e.data.user)),console.log(e.data),this.$store.commit("setMenu",e.data.menu),console.log("this.$store.state.menu = "+this.$store.state.menu),this.$router.replace("/IndexMain")}))}}))},goToRegister(){this.$router.push("/register")}}}),l=s,n=i(1656),a=(0,n.A)(l,r,o,!1,null,"1b5ac6c2",null),d=a.exports}}]);
//# sourceMappingURL=359.c3f0af47.js.map